# ============================================
# WORKERS APP CONFIGURATION
# ============================================
# Copy this file to .env and fill in your values

# Node Environment
NODE_ENV=development

# Redis Configuration (Required for BullMQ)
# Development: Use local Redis (docker run -d -p 6379:6379 redis)
# Production: Use Redis hosting service (e.g., Redis Cloud, Upstash)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Database Configuration
# Same database as the API app
DB_TYPE=supabase
NEON_DATABASE_URL=your-database-url

# Google Gemini API (Required for AI Processing)
# Get FREE API key at: https://ai.google.dev/
GEMINI_API_KEY=your-gemini-api-key
GEMINI_DAILY_LIMIT=1333

# Worker Configuration (Optional)
# Concurrency settings
AI_WORKER_CONCURRENCY=3
DOCUMENT_WORKER_CONCURRENCY=2
WEBHOOK_WORKER_CONCURRENCY=10

# Rate Limiting
AI_MAX_JOBS_PER_MINUTE=60
WEBHOOK_MAX_JOBS_PER_MINUTE=100

# Job Settings
JOB_TIMEOUT_MS=30000
MAX_JOB_ATTEMPTS=3

# ============================================
# REDIS SETUP INSTRUCTIONS
# ============================================
#
# Development:
# 1. Install Docker
# 2. Run: docker run -d -p 6379:6379 redis
# 3. Use REDIS_HOST=localhost and REDIS_PORT=6379
#
# Production:
# 1. Sign up for Redis Cloud (free tier available)
#    https://redis.com/try-free/
# 2. Create a database
# 3. Copy the host, port, and password to .env
#
# Alternative: Upstash Redis
#    https://upstash.com/ (~$15/month)
